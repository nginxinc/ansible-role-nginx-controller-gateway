---
- name: Converge
  hosts: all

  vars:
    controller:
      fqdn: ""
      api_key: ""
      user_email: ""
      user_password: ""
      validate_certs: false

    environmentName: ""
    gateway:
      metadata:
        name: lending
        displayName: "Shared Public Lending BU Gateway"
        description: "Routes all non special Lending applications"
      desiredState:
        ingress:
          uris:
            "http://mortgage.acmefinancial.net":
              {}
          tls:
            certRef:
              ref: ""
            protocols:
              - ""
          placement:
            instanceRefs:
              - ref: ""

  tasks:
    - include_role:
        name: ansible-role-nginx-controller-gateway
